<HTML>
<HEAD>
    <meta charset="UTF-8">
    <LINK href="index.css" rel="stylesheet" type="text/css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://raw.githubusercontent.com/macek/jquery-serialize-object/master/dist/jquery.serialize-object.min.js"></script>
</HEAD>
<BODY>
    <div id="main">
        <form onsubmit="sendForm()" id="auth">
            <div id ="forms">
                <input class="in" type="text" placeholder="Enter Username" name="username" required>
                <input class="in" type="password" placeholder="Enter Password" name="password" required>
                <input class="in hide" type="name" placeholder="Enter Name" name="name">
                <input class="in hide" type="email" placeholder="Enter Email" name="email">
            </div>
            <button type="submit" id="login">Login</button>
            <button type="button" id="register">Register</button>
        </form>
    </div>
    <script src="res/register.js"></script>
    <script>
        function sendForm(){
        formData = $("#auth").serializeObject();
        if (document.getElementById("login").innerHTML == "Login"){
            $.ajax({
                url: '/api/login',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(formData),
                dataType: 'json',
                success:function(e){}
            });
        } else {
            $.ajax({
                url: '/api/signup',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(formData),
                dataType: 'json',
                success:function(e){}
            });
        }
        }
            
    </script>
</BODY>
</HTML>